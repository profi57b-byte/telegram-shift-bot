# üìä Telegram Bot –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–º —Å–º–µ–Ω L1.5

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Telegram-–±–æ—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–º —Ä–∞–±–æ—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–¥–µ–ª–∞ L1.5 –Ω–∞ –æ—Å–Ω–æ–≤–µ Excel-—Ñ–∞–π–ª–æ–≤.

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π](#–ø–æ–¥—Ä–æ–±–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–º–æ–¥—É–ª–µ–π)
6. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
7. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
8. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
9. [–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞](#–∫–æ–º–∞–Ω–¥—ã-–±–æ—Ç–∞)
10. [Workflow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](#workflow-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
11. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-–∫–æ–Ω—Ç—Ä–æ–ª—å-–¥–æ—Å—Ç—É–ø–∞)
12. [Docker deployment](#docker-deployment)
13. [–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#–∏—Å—Ç–æ—Ä–∏—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
14. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Telegram Bot L1.5 Shift Manager** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—á–∏–º–∏ —Å–º–µ–Ω–∞–º–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–¥–µ–ª–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É—Ä–æ–≤–Ω—è L1.5. –ë–æ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Excel-—Ñ–∞–π–ª–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–≤–æ–µ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –∏ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Docker

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π L1.5:

#### üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è** ‚Äî —Ç–µ–∫—É—â–∏–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –≤–∞—à–µ–π —Å–º–µ–Ω—ã
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞** ‚Äî –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é** ‚Äî –ø–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ 7 –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –¥–∞—Ç—É** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª—é–±–æ–π –¥–∞—Ç—ã
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ

#### üë• –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–∂—É—Ä–Ω—ã—Ö
- **–ö—Ç–æ –Ω–∞ —Å–º–µ–Ω–µ —Å–µ–π—á–∞—Å** ‚Äî —Ç–µ–∫—É—â–∏–π –¥–µ–∂—É—Ä–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å –ø–æ–ª–Ω—ã–º –≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º —Å–º–µ–Ω—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ** ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —á–∞—Å—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –µ–¥–∏–Ω—É—é —Å–º–µ–Ω—É

#### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü** ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—á–µ–º –≤—Ä–µ–º–µ–Ω–∏:
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü–µ
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∂–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —á–∞—Å–æ–≤
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
  - –û–∂–∏–¥–∞–µ–º–∞—è –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ (160‚ÇΩ/—á–∞—Å)
  - –£–∂–µ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å—É–º–º–∞

#### ‚öôÔ∏è –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –í—ã–±–æ—Ä —Å–≤–æ–µ–≥–æ –∏–º–µ–Ω–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

#### üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
- `/add [user_id]` ‚Äî –≤—ã–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `/revoke [user_id]` ‚Äî –∑–∞–±—Ä–∞—Ç—å –¥–æ—Å—Ç—É–ø —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/makeadmin [user_id]` ‚Äî –Ω–∞–∑–Ω–∞—á–∏—Ç—å –¥—Ä—É–≥–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `/users` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–æ—Å—Ç—É–ø–æ–º

#### üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –õ–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π Telegram-—á–∞—Ç
- –û—Ç–¥–µ–ª—å–Ω–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ [ADMIN]

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Telegram User                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  bot.py (Main Bot)                       ‚îÇ
‚îÇ  ‚Ä¢ FSM States Management                                 ‚îÇ
‚îÇ  ‚Ä¢ Command Handlers                                      ‚îÇ
‚îÇ  ‚Ä¢ Callback Query Handlers                               ‚îÇ
‚îÇ  ‚Ä¢ Middleware (Access Control, User Loading)             ‚îÇ
‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ
   ‚ñº          ‚ñº          ‚ñº          ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇExcel ‚îÇ ‚îÇDatabase ‚îÇ ‚îÇ Access  ‚îÇ ‚îÇLogger  ‚îÇ ‚îÇ   Telegram ‚îÇ
‚îÇParser‚îÇ ‚îÇ Module  ‚îÇ ‚îÇ Control ‚îÇ ‚îÇ Module ‚îÇ ‚îÇ     API    ‚îÇ
‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚îÇ          ‚îÇ           ‚îÇ          ‚îÇ            ‚îÇ
   ‚ñº          ‚ñº           ‚ñº          ‚ñº            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Excel  ‚îÇ ‚îÇbot_users ‚îÇ ‚îÇbot_access‚îÇ ‚îÇ Telegram Log Chat  ‚îÇ
‚îÇ File   ‚îÇ ‚îÇ   .db    ‚îÇ ‚îÇ   .db    ‚îÇ ‚îÇ                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegram-shift-bot/
‚îú‚îÄ‚îÄ bot.py                    # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞ (FSM, handlers)
‚îú‚îÄ‚îÄ excel_parser.py           # –ú–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ Excel —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ access_control.py         # –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
‚îú‚îÄ‚îÄ database.py               # –†–∞–±–æ—Ç–∞ —Å –ë–î –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ logger.py                 # –ú–æ–¥—É–ª—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ run.py                    # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore               # Git ignore —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ graph.xlsx               # Excel —Ñ–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º
‚îú‚îÄ‚îÄ bot_users.db             # –ë–î –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ bot_access.db            # –ë–î –¥–æ—Å—Ç—É–ø–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ Dockerfile               # Docker –æ–±—Ä–∞–∑
‚îî‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```
---

## üîß –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### 1. bot.py ‚Äî –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –±–æ—Ç–∞

**–†–∞–∑–º–µ—Ä:** ~850 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

##### FSM States (Finite State Machine)
```python
class UserStates(StatesGroup):
    choosing_name = State()          # –í—ã–±–æ—Ä –∏–º–µ–Ω–∏
    main_menu = State()              # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    choosing_date = State()          # –í—ã–±–æ—Ä –¥–∞—Ç—ã
    choosing_stats_month = State()   # –í—ã–±–æ—Ä –º–µ—Å—è—Ü–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```

##### Middleware
- **access_check_middleware** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏—è
- **load_user_middleware** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î

##### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- `/start` ‚Äî –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/menu` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/today` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `/tomorrow` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
- `/week` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é
- `/whoisnow` ‚Äî —Ç–µ–∫—É—â–∏–π –¥–µ–∂—É—Ä–Ω—ã–π
- `/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü
- `/settings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

##### –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
- `/add [user_id]` ‚Äî –≤—ã–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø
- `/revoke [user_id]` ‚Äî –∑–∞–±—Ä–∞—Ç—å –¥–æ—Å—Ç—É–ø
- `/makeadmin [user_id]` ‚Äî –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∞
- `/users` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

##### –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- **get_name_keyboard()** ‚Äî –≤—ã–±–æ—Ä –∏–º–µ–Ω–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **get_main_menu_keyboard()** ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏
- **get_date_keyboard()** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

##### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **_format_schedule_full_day()** ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –¥–µ–Ω—å
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
  - –í—ã–¥–µ–ª—è–µ—Ç –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º —Å–º–µ–Ω—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —á–∞—Å—ã –≤ –µ–¥–∏–Ω—É—é —Å–º–µ–Ω—É
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–í—ã—Ö–æ–¥–Ω–æ–π" –µ—Å–ª–∏ –Ω–µ—Ç —Å–º–µ–Ω
  
- **_format_employee_schedule()** ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–º–µ–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  - –ù—É–º–µ—Ä—É–µ—Ç —Å–º–µ–Ω—ã –µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ

##### Callback Query –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- **cal_nav:** ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- **date:** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
- **stats:** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –º–µ—Å—è—Ü–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **back_to_menu** ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- **ignore** ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç—ã—Ö –∫–Ω–æ–ø–æ–∫

---

### 2. excel_parser.py ‚Äî –ü–∞—Ä—Å–∏–Ω–≥ Excel —Ñ–∞–π–ª–æ–≤

**–†–∞–∑–º–µ—Ä:** ~450 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ß—Ç–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

##### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
```python
def __init__(self, file_path):
    # –ó–∞–≥—Ä—É–∑–∫–∞ Excel —Ñ–∞–π–ª–∞
    # –ß—Ç–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ "–°–ª—É–∂–µ–±–Ω—ã–π –ª–∏—Å—Ç 2"

def reload_data(self):
    # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞
    # –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ –¥–∞–Ω–Ω—ã–º
```

##### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```python
def get_employees(self):
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ L1.5
    # –ò—Å—Ç–æ—á–Ω–∏–∫: "–°–ª—É–∂–µ–±–Ω—ã–π –ª–∏—Å—Ç 2", –∫–æ–ª–æ–Ω–∫–∞ "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"

def get_schedule_for_date(self, date):
    # –ü–æ–ª—É—á–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É
    # –§–æ—Ä–º–∞—Ç –ª–∏—Å—Ç–∞: "–ú–µ—Å—è—Ü –ì–ì" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–§–µ–≤—Ä–∞–ª—å 26")
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: [{'time': '9:00-10:00', 'employee': '–ò–º—è'}]

def get_current_employee(self):
    # –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–∂—É—Ä–Ω–æ–≥–æ
    # –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —á–∞—Å—ã –≤ —Å–º–µ–Ω—É
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {'name': '–ò–º—è', 'time': '9:00-18:00'}

def get_employee_schedule(self, employee_name, date):
    # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ –¥–∞—Ç—É
    # –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —á–∞—Å—ã –≤ —Å–º–µ–Ω—ã
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: [{'shift_number': 1, 'time': '9:00-18:00'}]
```

##### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```python
def get_employee_stats_for_month(self, employee_name, year, month):
    # –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞ –º–µ—Å—è—Ü:
    # - total_hours: –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤
    # - worked_hours: –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
    # - remaining_hours: –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —á–∞—Å—ã
    # - worked_days: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
    # - salary: –∑–∞—Ä–ø–ª–∞—Ç–∞ (160‚ÇΩ/—á–∞—Å)
    # - earned_salary: —É–∂–µ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
```

##### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```python
def _filter_fake_shifts(self, schedule):
    # –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ñ–µ–π–∫–æ–≤—ã–µ —Å–º–µ–Ω—ã 9:00-10:00
    # –≠—Ç–∏ —Å–º–µ–Ω—ã –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π Excel
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

def get_available_months(self):
    # –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—è—Ü–µ–≤ –≤ Excel
    # –ü–∞—Ä—Å–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏—Å—Ç–æ–≤
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

def get_week_schedule(self, start_date, employee_name=None):
    # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é (7 –¥–Ω–µ–π)
    # –ú–æ–∂–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É
```

---

### 3. access_control.py ‚Äî –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞

**–†–∞–∑–º–µ—Ä:** ~200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
```python
MAIN_ADMIN_ID = 662128557      # @photon_27
MAIN_ADMIN_USERNAME = "@photon_27"
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

##### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
```python
async def check_access(self, user_id: int) -> bool:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ middleware –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

async def grant_access(self, user_id, username, granted_by):
    # –í—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É
    # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫—Ç–æ –≤—ã–¥–∞–ª –¥–æ—Å—Ç—É–ø

async def revoke_access(self, user_id):
    # –û—Ç–∑—ã–≤ –¥–æ—Å—Ç—É–ø–∞ (is_active = 0)
    # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –Ω–µ–ª—å–∑—è –ª–∏—à–∏—Ç—å –¥–æ—Å—Ç—É–ø–∞
```

##### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
```python
async def add_admin(self, user_id):
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    # –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –¥—Ä—É–≥–∏—Ö

def is_admin(self, user_id) -> bool:
    # –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–¥–º–∏–Ω–∞
    # –ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç True
    # –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ –ë–î

def get_admin_info(self):
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–ª–∞–≤–Ω–æ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–µ
    # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ –∫–æ–Ω—Ç–∞–∫—Ç–µ
```

##### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```python
async def get_all_users(self):
    # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∞–∫—Ç–∏–≤–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
    # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –≤—ã–¥–∞—á–∏ –¥–æ—Å—Ç—É–ø–∞

async def get_all_admins(self):
    # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
    # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
```

---

### 4. database.py ‚Äî –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–∞–∑–º–µ—Ä:** ~140 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã users:
```sql
CREATE TABLE users (
    user_id INTEGER PRIMARY KEY,           -- Telegram ID
    username TEXT,                         -- @username
    is_l15 BOOLEAN,                        -- –í—Å–µ–≥–¥–∞ True (legacy –ø–æ–ª–µ)
    employee_name TEXT,                    -- –ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

##### –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```python
async def save_user(self, user_id, username, is_l15, employee_name):
    # INSERT OR REPLACE
    # –û–±–Ω–æ–≤–ª—è–µ—Ç updated_at –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

async def get_user(self, user_id):
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dict —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    # –ò–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω

async def update_employee_name(self, user_id, employee_name):
    # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –∏–º–µ–Ω–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
```

---

### 5. logger.py ‚Äî –ú–æ–¥—É–ª—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–∞–∑–º–µ—Ä:** ~60 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –≤ Telegram

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```python
class BotLogger:
    def __init__(self, bot: Bot, chat_id: str):
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π chat_id
        # enabled = False –µ—Å–ª–∏ chat_id –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

    async def log_action(self, username: str, action: str):
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
        # –§–æ—Ä–º–∞—Ç: üìù [2026-02-15 14:30:00] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @username –¥–µ–π—Å—Ç–≤–∏–µ
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ Telegram —á–∞—Ç

    async def log_error(self, username: str, error_text: str):
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
        # –§–æ—Ä–º–∞—Ç: üö® [2026-02-15 14:30:00] ‚ö†Ô∏è –û–®–ò–ë–ö–ê —É @username: —Ç–µ–∫—Å—Ç
```

#### –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤:
```
üìù [2026-02-15 14:30:15] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @photon_27 –ó–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞ [ADMIN]
üìù [2026-02-15 14:30:20] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @user123 –í—ã–±—Ä–∞–ª –∏–º—è: –ú–∏—à–∏–Ω–∞ –ê–Ω–Ω–∞
üìù [2026-02-15 14:30:25] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @photon_27 üëë [ADMIN] –í—ã–¥–∞–ª –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ID: 123456789
üìù [2026-02-15 14:30:30] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @user123 –ó–∞–ø—Ä–æ—Å–∏–ª —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –§–µ–≤—Ä–∞–ª—å 2026
```

---

### 6. run.py ‚Äî –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞

**–†–∞–∑–º–µ—Ä:** ~50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

#### –ü—Ä–æ–≤–µ—Ä–∫–∏:
1. ‚úÖ –ù–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ .env
2. ‚úÖ –ù–∞–ª–∏—á–∏–µ BOT_TOKEN –≤ .env
3. ‚úÖ –ù–∞–ª–∏—á–∏–µ Excel —Ñ–∞–π–ª–∞
4. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É

#### –ó–∞–ø—É—Å–∫:
```bash
python run.py
```

–í—ã–≤–æ–¥:
```
‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
üìä –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª: graph.xlsx
üí° –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
--------------------------------------------------
```

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### bot_users.db ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢–∞–±–ª–∏—Ü–∞:** `users`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| user_id | INTEGER PRIMARY KEY | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| username | TEXT | Telegram username (@username) |
| is_l15 | BOOLEAN | –í—Å–µ–≥–¥–∞ TRUE (legacy) |
| employee_name | TEXT | –í—ã–±—Ä–∞–Ω–Ω–æ–µ –∏–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ |
| created_at | TIMESTAMP | –î–∞—Ç–∞ –ø–µ—Ä–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–†–∞–∑–º–µ—Ä:** –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏–º–µ–Ω–∏ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏

---

### bot_access.db ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞

**–¢–∞–±–ª–∏—Ü–∞ 1:** `access_list`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| user_id | INTEGER PRIMARY KEY | Telegram ID |
| username | TEXT | Username |
| granted_by | INTEGER | ID —Ç–æ–≥–æ, –∫—Ç–æ –≤—ã–¥–∞–ª –¥–æ—Å—Ç—É–ø |
| granted_at | TIMESTAMP | –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ –¥–æ—Å—Ç—É–ø–∞ |
| is_active | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –¥–æ—Å—Ç—É–ø |

**–¢–∞–±–ª–∏—Ü–∞ 2:** `admins`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| user_id | INTEGER PRIMARY KEY | Telegram ID –∞–¥–º–∏–Ω–∞ |
| added_by | INTEGER | ID –Ω–∞–∑–Ω–∞—á–∏–≤—à–µ–≥–æ |
| added_at | TIMESTAMP | –î–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |

**–†–∞–∑–º–µ—Ä:** –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.10+
- pip (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python)
- Telegram Bot Token (–æ—Ç @BotFather)
- Excel —Ñ–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```
aiogram==3.13.1       # Telegram Bot Framework
pandas==2.2.3         # –†–∞–±–æ—Ç–∞ —Å Excel
openpyxl==3.1.5       # –ß—Ç–µ–Ω–∏–µ .xlsx —Ñ–∞–π–ª–æ–≤
python-dotenv==1.0.1  # –ó–∞–≥—Ä—É–∑–∫–∞ .env
aiosqlite==0.20.0     # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è SQLite
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
cp .env.example .env
nano .env
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env`:
```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
BOT_TOKEN=your_bot_token_here

# ID —á–∞—Ç–∞ –¥–ª—è –ª–æ–≥–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
# –î–ª—è –≥—Ä—É–ø–ø/—Å—É–ø–µ—Ä–≥—Ä—É–ø–ø: –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Å -100 –≤ –Ω–∞—á–∞–ª–µ
LOG_CHAT_ID=-1001234567890

# –ü—É—Ç—å –∫ Excel —Ñ–∞–π–ª—É —Å –≥—Ä–∞—Ñ–∏–∫–æ–º
EXCEL_FILE=graph.xlsx
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python run.py
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
```bash
python bot.py
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):

#### BOT_TOKEN (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
–¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### LOG_CHAT_ID (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
ID Telegram-—á–∞—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–æ–≥–æ–≤

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
3. –î–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
4. –î–æ–±–∞–≤—å—Ç–µ @raw_info_bot –≤ –≥—Ä—É–ø–ø—É
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
6. –£–¥–∞–ª–∏—Ç–µ @raw_info_bot

**–í–∞–∂–Ω–æ:** –î–ª—è —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø ID –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `-100`

#### EXCEL_FILE (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
–ü—É—Ç—å –∫ Excel —Ñ–∞–π–ª—É —Å –≥—Ä–∞—Ñ–∏–∫–æ–º

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:**
- –õ–∏—Å—Ç "–°–ª—É–∂–µ–±–Ω—ã–π –ª–∏—Å—Ç 2" ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –õ–∏—Å—Ç—ã —Å –º–µ—Å—è—Ü–∞–º–∏: "–Ø–Ω–≤–∞—Ä—å 26", "–§–µ–≤—Ä–∞–ª—å 26" –∏ —Ç.–¥.
- –ö–æ–ª–æ–Ω–∫–∏: –î–∞—Ç–∞, –í—Ä–µ–º—è, –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π

---

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/start` | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º | `/start` |
| `/menu` | –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | `/menu` |
| `/today` | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è | `/today` |
| `/tomorrow` | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞ | `/tomorrow` |
| `/week` | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é | `/week` |
| `/whoisnow` | –ö—Ç–æ —Å–µ–π—á–∞—Å –Ω–∞ —Å–º–µ–Ω–µ | `/whoisnow` |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü | `/stats` |
| `/settings` | –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | `/settings` |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º | `/help` |

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/add [user_id]` | –í—ã–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é | `/add 123456789` |
| `/revoke [user_id]` | –ó–∞–±—Ä–∞—Ç—å –¥–æ—Å—Ç—É–ø | `/revoke 123456789` |
| `/makeadmin [user_id]` | –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | `/makeadmin 123456789` |
| `/users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | `/users` |

---

## üë§ Workflow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí /start
2. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø
   ‚îú‚îÄ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ ‚Üí "–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É"
   ‚îî‚îÄ –ï—Å—Ç—å –¥–æ—Å—Ç—É–ø ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
3. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å–≤–æ–µ –∏–º—è
5. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
6. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```

### –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí /start
2. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ë–î
3. –ù–∞—Ö–æ–¥–∏—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º—è
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí "üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"
2. –ë–æ—Ç –ø–∞—Ä—Å–∏—Ç Excel —Ñ–∞–π–ª
3. –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ñ–µ–π–∫–æ–≤—ã–µ —Å–º–µ–Ω—ã (9:00-10:00)
4. –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —á–∞—Å—ã
5. –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥:
   - –í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –°–º–µ–Ω—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∂–∏—Ä–Ω—ã–º
   - "–°–µ–π—á–∞—Å –Ω–∞ —Å–º–µ–Ω–µ" –µ—Å–ª–∏ —ç—Ç–æ —Å–µ–≥–æ–¥–Ω—è
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü"
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç inline-–∫–Ω–æ–ø–∫–∏ —Å –º–µ—Å—è—Ü–∞–º–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ—Å—è—Ü
4. –ë–æ—Ç –ø–∞—Ä—Å–∏—Ç –≤–µ—Å—å –º–µ—Å—è—Ü –∏–∑ Excel
5. –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç:
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤
   - –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã (–¥–æ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã)
   - –û—Å—Ç–∞–≤—à–∏–µ—Å—è —á–∞—Å—ã
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
   - –ó–∞—Ä–ø–ª–∞—Ç–∞ (—á–∞—Å—ã √ó 160‚ÇΩ)
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞

### –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞:

#### 1. –ë–µ–∑ –¥–æ—Å—Ç—É–ø–∞
- –í–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Telegram ID –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

#### 2. –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –±–æ—Ç–∞
- –ú–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- –ú–æ–∂–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –ú–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å–≤–æ–µ –∏–º—è

#### 3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—ã–¥–∞—á–∞/–æ—Ç–∑—ã–≤ –¥–æ—Å—Ç—É–ø–∞ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–µ—Ç–∫–æ–π [ADMIN]

### –ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:

**ID:** 662128557  
**Username:** @photon_27  
**–ü—Ä–∞–≤–∞:**
- –ù–µ –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø
- –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω –∏–∑ –∞–¥–º–∏–Ω–æ–≤
- –ú–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –¥—Ä—É–≥–∏—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

### Middleware –∑–∞—â–∏—Ç–∞:

```python
@dp.message.middleware()
async def access_check_middleware(handler, event, data):
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–æ–º
    # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
    # 3. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
    # 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞
    # 5. –ü–µ—Ä–µ–¥–∞—á–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–ª—å—à–µ –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø –µ—Å—Ç—å
```

---

## üê≥ Docker Deployment

### Dockerfile

–û–±—Ä–∞–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ Python 3.11-slim —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞
- –ó–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### docker-compose.yml

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```yaml
services:
  shift-bot:
    build: .
    restart: unless-stopped
    volumes:
      - ./graph.xlsx:/app/graph.xlsx:ro  # –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
      - ./logs:/app/logs
    env_file:
      - .env
    environment:
      - TZ=Europe/Moscow
```

**–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker:**

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker-compose build

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker:**
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (0.5 CPU, 512MB RAM)
- ‚úÖ –õ–æ–≥–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π volume

---

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ Excel —Ñ–∞–π–ª–æ–≤

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```
–õ–∏—Å—Ç "–°–ª—É–∂–µ–±–Ω—ã–π –ª–∏—Å—Ç 2":
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ß–µ—Ä–≤—è–∫–æ–≤–∞ –û–ª—å–≥–∞‚îÇ
‚îÇ –¢–æ–ª–∫–∞—á–µ–≤ –ï–≥–æ—Ä  ‚îÇ
‚îÇ ...            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–õ–∏—Å—Ç "–§–µ–≤—Ä–∞–ª—å 26":
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –î–∞—Ç–∞   ‚îÇ  –í—Ä–µ–º—è  ‚îÇ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ15.02.2026‚îÇ 9:00-10:00‚îÇ –ú–∏—à–∏–Ω–∞ –ê–Ω–Ω–∞   ‚îÇ
‚îÇ15.02.2026‚îÇ10:00-11:00‚îÇ –ú–∏—à–∏–Ω–∞ –ê–Ω–Ω–∞   ‚îÇ
‚îÇ...       ‚îÇ   ...   ‚îÇ     ...       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞:**
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–µ–π–∫–æ–≤—ã—Ö —Å–º–µ–Ω 9:00-10:00
3. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∞—Å–æ–≤ –≤ —Å–º–µ–Ω—ã
4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–º–µ–Ω –≤ –æ–¥–∏–Ω –¥–µ–Ω—å

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–º–µ–Ω

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
```python
1. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
2. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (—á–µ—Ä–µ–∑ set)
3. –ü–∞—Ä—Å–∏—Ç—å –≤—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç—ã –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–Ω—è
4. –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞
5. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—Ç–∞:
   –ï—Å–ª–∏ –Ω–∞—á–∞–ª–æ == –æ–∫–æ–Ω—á–∞–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ:
       –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–º–µ–Ω—É
   –ò–Ω–∞—á–µ:
       –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–º–µ–Ω—É
       –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–º–µ–Ω—É
6. –í–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Å–º–µ–Ω
```

**–ü—Ä–∏–º–µ—Ä:**
```
–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
9:00-10:00, 10:00-11:00, 11:00-12:00, 18:00-19:00, 19:00-20:00

–†–µ–∑—É–ª—å—Ç–∞—Ç:
1-—è —Å–º–µ–Ω–∞: 9:00-12:00
2-—è —Å–º–µ–Ω–∞: 18:00-20:00
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**aiogram 3.x:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ async/await
- FSM (Finite State Machine) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- Middleware –¥–ª—è pre/post –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**aiosqlite:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å SQLite
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤

**–¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π –ª–æ–≥–æ–≤:**

```python
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ
"Update id=846614335 is handled. Duration 1172 ms"
# –ù–æ—Ä–º–∞–ª—å–Ω–æ - –∞–ø–¥–µ–π—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞ 1.2 —Å–µ–∫—É–Ω–¥—ã

# –î–æ–ª–≥–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
"Update id=846614334 is handled. Duration 30686 ms"
# –ù–æ—Ä–º–∞–ª—å–Ω–æ - –ø–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Excel –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è

# –ù–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ
"Update id=846614336 is not handled. Duration 0 ms"
# –ù–æ—Ä–º–∞–ª—å–Ω–æ - –∞–ø–¥–µ–π—Ç –Ω–µ –ø–æ–¥–æ—à–µ–ª –Ω–∏ –ø–æ–¥ –æ–¥–∏–Ω handler
# –ù–∞–ø—Ä–∏–º–µ—Ä: callback –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
```

**–ü–æ—á–µ–º—É "is not handled" –Ω–æ—Ä–º–∞–ª—å–Ω–æ:**
- –°—Ç–∞—Ä—ã–µ callback query –æ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ç–∏–ø—ã –∞–ø–¥–µ–π—Ç–æ–≤
- –°–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –±–µ–∑ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö handlers
- –ù–µ —è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π, –ø—Ä–æ—Å—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–í–µ—Ä—Å–∏—è 1.6 - –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**

1. **–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–∞ –¥–∞—Ç—É**
2. **–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:**
   - –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã
   - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã
   - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ
3. **–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞**
4. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç: `–ò–º—è: 9:00-18:00`
   - –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç: `<b>–ò–º—è: 9:00-18:00</b>` (–¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
   - –í—ã—Ö–æ–¥–Ω–æ–π: `–ò–º—è: <b>–í—ã—Ö–æ–¥–Ω–æ–π</b>`

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:

| –û–ø–µ—Ä–∞—Ü–∏—è | –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|---------------|------------|
| /start | 50-100 –º—Å | –ë–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ Excel |
| /today | 500-1000 –º—Å | –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Excel |
| /today (–ø–æ–≤—Ç–æ—Ä) | 100-200 –º—Å | –î–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏ |
| /stats | 2000-5000 –º—Å | –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ–≥–æ –º–µ—Å—è—Ü–∞ |
| /week | 1000-2000 –º—Å | –ü–∞—Ä—Å–∏–Ω–≥ 7 –¥–Ω–µ–π |
| Callback | 50-100 –º—Å | Inline –∫–Ω–æ–ø–∫–∏ |

### –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–∞–∑–º–µ—Ä |
|-----------|--------|
| bot.py | ~850 —Å—Ç—Ä–æ–∫ / ~35KB |
| excel_parser.py | ~450 —Å—Ç—Ä–æ–∫ / ~18KB |
| access_control.py | ~200 —Å—Ç—Ä–æ–∫ / ~8KB |
| database.py | ~140 —Å—Ç—Ä–æ–∫ / ~6KB |
| logger.py | ~60 —Å—Ç—Ä–æ–∫ / ~2.5KB |
| bot_users.db | ~10KB (100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) |
| bot_access.db | ~8KB (100 –∑–∞–ø–∏—Å–µ–π) |
| graph.xlsx | ~50-100KB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∞–Ω–Ω—ã—Ö) |

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (Docker):

```yaml
resources:
  limits:
    cpus: '0.5'      # –ü–æ–ª–æ–≤–∏–Ω–∞ —è–¥—Ä–∞ CPU
    memory: 512M     # 512 –ú–ë RAM
  reservations:
    cpus: '0.1'      # –ú–∏–Ω–∏–º—É–º 10% —è–¥—Ä–∞
    memory: 128M     # –ú–∏–Ω–∏–º—É–º 128 –ú–ë
```

---

## üéì –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å
- –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- –í—Å–µ I/O –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

### 5. –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ö–Ω–æ–ø–∫–∏ –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

---

## üöß –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—á–∞–ª–µ —Å–º–µ–Ω—ã
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ PDF
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
- [ ] –û–±–º–µ–Ω —Å–º–µ–Ω–∞–º–∏ –º–µ–∂–¥—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö Excel
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] Unit-—Ç–µ—Å—Ç—ã
- [ ] CI/CD pipeline
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- [ ] –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ Excel
- [ ] Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] PostgreSQL –≤–º–µ—Å—Ç–æ SQLite
- [ ] –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- [ ] CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---